<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Appointments - MH Monitor | Professional Scheduling Dashboard</title>
  <meta name="description" content="Professional appointment scheduling and management system for mental health therapists.">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="../js/common.js" defer></script>
  <script>
    // Appointments functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Check if user is logged in and is a therapist
      if (localStorage.getItem('isLoggedIn') !== 'true' || localStorage.getItem('userType') !== 'therapist') {
        window.location.href = 'login.html';
        return;
      }
      
      // Logout functionality
      const logoutBtn = document.querySelector('a[href="index.html"]');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', function(e) {
          e.preventDefault();
          if (confirm('Are you sure you want to logout?')) {
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('userEmail');
            localStorage.removeItem('userName');
            localStorage.removeItem('userType');
            localStorage.removeItem('rememberMe');
            window.location.href = 'index.html';
          }
        });
      }
    });
  </script>
</head>
<body>
  <!-- Navigation Bar -->
  <header class="navbar" id="navbar">
    <div class="container">
      <a href="therapist-dashboard.html" class="logo">🧠 MH Monitor</a>
      <nav id="main-nav">
        <ul>
          <li><a href="therapist-dashboard.html">Dashboard</a></li>
          <li><a href="client-reports.html">Client Reports</a></li>
          <li><a href="appointments.html" class="active">Appointments</a></li>
          <li><a href="messaging.html">Messaging</a></li>
          <li><a href="index.html">Logout</a></li>
        </ul>
      </nav>
      <button class="navbar-toggle" id="navbar-toggle" aria-label="Toggle navigation">
        <span>☰</span>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main style="padding: var(--spacing-8) 0; min-height: calc(100vh - 200px);">
    <div class="container">
      <!-- Today's Appointments -->
      <section style="margin-bottom: var(--spacing-12);">
        <h1 style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--spacing-6);">Today's Appointments</h1>
        <div style="background: #f0f9ff; border-left: 4px solid #3b82f6; padding: var(--spacing-6); border-radius: var(--radius-lg);">
          <p style="font-size: var(--font-size-lg); color: var(--text-primary); margin: 0;">
            You have 4 appointments scheduled for today
          </p>
        </div>
      </section>

      <!-- Upcoming Appointments -->
      <section style="margin-bottom: var(--spacing-12);">
        <h1 style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--spacing-6);">Upcoming Appointments</h1>
        <div style="background: white; border: 1px solid var(--border-color); border-radius: var(--radius-lg); overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
          <table style="width: 100%; border-collapse: collapse;">
            <thead style="background: var(--background-secondary);">
              <tr>
                <th style="padding: var(--spacing-4) var(--spacing-6); text-align: left; font-weight: 600; color: var(--text-primary); border-bottom: 1px solid var(--border-color);">Time</th>
                <th style="padding: var(--spacing-4) var(--spacing-6); text-align: left; font-weight: 600; color: var(--text-primary); border-bottom: 1px solid var(--border-color);">Client</th>
                <th style="padding: var(--spacing-4) var(--spacing-6); text-align: left; font-weight: 600; color: var(--text-primary); border-bottom: 1px solid var(--border-color);">Type</th>
                <th style="padding: var(--spacing-4) var(--spacing-6); text-align: left; font-weight: 600; color: var(--text-primary); border-bottom: 1px solid var(--border-color);">Status</th>
                <th style="padding: var(--spacing-4) var(--spacing-6); text-align: left; font-weight: 600; color: var(--text-primary); border-bottom: 1px solid var(--border-color);">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid var(--border-color);">
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">9:00 AM</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Arun</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Individual Session</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">
                  <span style="background: #fecaca; color: #991b1b; padding: var(--spacing-1) var(--spacing-3); border-radius: var(--radius-sm); font-size: var(--font-size-sm);">Urgent</span>
                </td>
                <td style="padding: var(--spacing-4) var(--spacing-6);">
                  <button class="btn btn-outline" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm); margin-right: var(--spacing-2);" onclick="startSession('arun')">Start</button>
                  <button class="btn btn-primary" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm);" onclick="rescheduleSession('arun')">Reschedule</button>
                </td>
              </tr>
              <tr style="border-bottom: 1px solid var(--border-color);">
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">10:30 AM</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Surya</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Follow-up</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">
                  <span style="background: #dcfce7; color: #166534; padding: var(--spacing-1) var(--spacing-3); border-radius: var(--radius-sm); font-size: var(--font-size-sm);">Confirmed</span>
                </td>
                <td style="padding: var(--spacing-4) var(--spacing-6);">
                  <button class="btn btn-outline" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm); margin-right: var(--spacing-2);" onclick="startSession('surya')">Start</button>
                  <button class="btn btn-primary" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm);" onclick="rescheduleSession('surya')">Reschedule</button>
                </td>
              </tr>
              <tr style="border-bottom: 1px solid var(--border-color);">
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">2:00 PM</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Shanjeev</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Group Therapy</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">
                  <span style="background: #fef3c7; color: #92400e; padding: var(--spacing-1) var(--spacing-3); border-radius: var(--radius-sm); font-size: var(--font-size-sm);">Pending</span>
                </td>
                <td style="padding: var(--spacing-4) var(--spacing-6);">
                  <button class="btn btn-outline" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm); margin-right: var(--spacing-2);" onclick="startSession('shanjeev')">Start</button>
                  <button class="btn btn-primary" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm);" onclick="rescheduleSession('shanjeev')">Reschedule</button>
                </td>
              </tr>
              <tr>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">4:00 PM</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Rishi</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">Assessment</td>
                <td style="padding: var(--spacing-4) var(--spacing-6); font-size: var(--font-size-lg); color: var(--text-primary);">
                  <span style="background: #dcfce7; color: #166534; padding: var(--spacing-1) var(--spacing-3); border-radius: var(--radius-sm); font-size: var(--font-size-sm);">Confirmed</span>
                </td>
                <td style="padding: var(--spacing-4) var(--spacing-6);">
                  <button class="btn btn-outline" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm); margin-right: var(--spacing-2);" onclick="startSession('rishi')">Start</button>
                  <button class="btn btn-primary" style="padding: var(--spacing-2) var(--spacing-4); font-size: var(--font-size-sm);" onclick="rescheduleSession('rishi')">Reschedule</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Quick Actions -->
      <section>
        <h1 style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--spacing-6);">Quick Actions</h1>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-6);">
          <div style="background: white; border: 1px solid var(--border-color); border-radius: var(--radius-lg); padding: var(--spacing-6); text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="font-size: var(--font-size-3xl); margin-bottom: var(--spacing-4);">📅</div>
            <div style="font-size: var(--font-size-lg); font-weight: 600; color: var(--text-primary); margin-bottom: var(--spacing-2);">Schedule New</div>
            <div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--spacing-4);">Book a new appointment</div>
            <button class="btn btn-primary" onclick="scheduleNew()">Schedule</button>
          </div>
          <div style="background: white; border: 1px solid var(--border-color); border-radius: var(--radius-lg); padding: var(--spacing-6); text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="font-size: var(--font-size-3xl); margin-bottom: var(--spacing-4);">📊</div>
            <div style="font-size: var(--font-size-lg); font-weight: 600; color: var(--text-primary); margin-bottom: var(--spacing-2);">View Calendar</div>
            <div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--spacing-4);">See full calendar view</div>
            <button class="btn btn-outline" onclick="viewCalendar()">View Calendar</button>
          </div>
          <div style="background: white; border: 1px solid var(--border-color); border-radius: var(--radius-lg); padding: var(--spacing-6); text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="font-size: var(--font-size-3xl); margin-bottom: var(--spacing-4);">⏰</div>
            <div style="font-size: var(--font-size-lg); font-weight: 600; color: var(--text-primary); margin-bottom: var(--spacing-2);">Set Availability</div>
            <div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--spacing-4);">Update your schedule</div>
            <button class="btn btn-outline" onclick="setAvailability()">Set Hours</button>
          </div>
          <div style="background: white; border: 1px solid var(--border-color); border-radius: var(--radius-lg); padding: var(--spacing-6); text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
            <div style="font-size: var(--font-size-3xl); margin-bottom: var(--spacing-4);">📝</div>
            <div style="font-size: var(--font-size-lg); font-weight: 600; color: var(--text-primary); margin-bottom: var(--spacing-2);">Session Notes</div>
            <div style="font-size: var(--font-size-sm); color: var(--text-secondary); margin-bottom: var(--spacing-4);">Review past sessions</div>
            <button class="btn btn-outline" onclick="viewNotes()">View Notes</button>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; 2025 Mental Health Monitor. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    function startSession(clientId) {
      console.log('Starting session for:', clientId);
      alert(`Starting session with ${clientId}...`);
    }

    function rescheduleSession(clientId) {
      console.log('Rescheduling session for:', clientId);
      alert(`Opening reschedule options for ${clientId}...`);
    }

    function scheduleNew() {
      console.log('Scheduling new appointment');
      alert('Opening new appointment scheduler...');
    }

    function viewCalendar() {
      console.log('Viewing calendar');
      alert('Opening calendar view...');
    }

    function setAvailability() {
      console.log('Setting availability');
      alert('Opening availability settings...');
    }

    function viewNotes() {
      console.log('Viewing session notes');
      alert('Opening session notes...');
    }
  </script>
</body>
</html>
