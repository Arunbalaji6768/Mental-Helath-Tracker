<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Therapist Breathing Tools - AI Mental Health Tracker | Client Sessions</title>
  <meta name="description" content="Professional breathing techniques for therapists to guide clients through stress relief and anxiety management sessions.">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="../js/common.js" defer></script>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https://mental-helath-tracker.onrender.com;">
</head>
<body>
  <!-- Navigation Bar -->
  <header class="navbar" id="navbar">
    <div class="container">
      <a href="index.html" class="logo">🧠 AI Mental Health Tracker</a>
      <nav id="main-nav">
        <ul>
          <li><a href="therapist-dashboard.html">Dashboard</a></li>
          <li><a href="client-reports.html">Client Reports</a></li>
          <li><a href="content-moderation.html">Content Moderation</a></li>
          <li><a href="system-analytics.html">Analytics</a></li>
          <li><a href="assessments.html">AI Assessments</a></li>
          <li><a href="therapist-resources.html">Resources</a></li>
          <li><a href="user-management.html">Clients</a></li>
          <li><a href="index.html" class="btn btn-outline">Logout</a></li>
        </ul>
      </nav>
      <button class="navbar-toggle" id="navbar-toggle" aria-label="Toggle navigation">
        <span>☰</span>
      </button>
    </div>
  </header>

  <!-- Therapist Breathing Hero -->
  <section class="dashboard-hero">
    <div class="container">
      <div class="section-header">
        <h1>💨 Therapist Breathing Tools</h1>
        <p>Professional breathing techniques and guided sessions for client stress relief and anxiety management</p>
      </div>
    </div>
  </section>

  <!-- Breathing Session Categories -->
  <section class="section">
    <div class="container">
      <div class="grid grid-cols-4">
        <!-- Anxiety Relief -->
        <div class="card text-center">
          <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); border-radius: 50%; margin: 0 auto var(--spacing-4); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">😌</div>
          <h3>Anxiety Relief</h3>
          <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">Calm techniques</p>
          <div style="background: var(--background-secondary); padding: var(--spacing-2); border-radius: var(--radius-lg); margin-top: var(--spacing-3);">
            <div style="font-size: var(--font-size-lg); font-weight: 700; color: #3b82f6;">8</div>
            <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Techniques</div>
          </div>
        </div>

        <!-- Stress Management -->
        <div class="card text-center">
          <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; margin: 0 auto var(--spacing-4); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">🌿</div>
          <h3>Stress Management</h3>
          <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">Relaxation focus</p>
          <div style="background: var(--background-secondary); padding: var(--spacing-2); border-radius: var(--radius-lg); margin-top: var(--spacing-3);">
            <div style="font-size: var(--font-size-lg); font-weight: 700; color: #10b981;">6</div>
            <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Methods</div>
          </div>
        </div>

        <!-- Panic Attack Relief -->
        <div class="card text-center">
          <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; margin: 0 auto var(--spacing-4); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">🚨</div>
          <h3>Panic Relief</h3>
          <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">Crisis intervention</p>
          <div style="background: var(--background-secondary); padding: var(--spacing-2); border-radius: var(--radius-lg); margin-top: var(--spacing-3);">
            <div style="font-size: var(--font-size-lg); font-weight: 700; color: #f59e0b;">4</div>
            <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Protocols</div>
          </div>
        </div>

        <!-- Group Sessions -->
        <div class="card text-center">
          <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); border-radius: 50%; margin: 0 auto var(--spacing-4); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">👥</div>
          <h3>Group Sessions</h3>
          <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">Collective breathing</p>
          <div style="background: var(--background-secondary); padding: var(--spacing-2); border-radius: var(--radius-lg); margin-top: var(--spacing-3);">
            <div style="font-size: var(--font-size-lg); font-weight: 700; color: #8b5cf6;">5</div>
            <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Templates</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Client Breathing Sessions -->
  <section class="section" style="background: var(--background-secondary);">
    <div class="container">
      <div class="section-header">
        <h2>Client Breathing Sessions</h2>
        <p>Monitor and guide client breathing exercises with real-time feedback</p>
      </div>
      
      <div class="grid grid-cols-2">
        <!-- Active Breathing Sessions -->
        <div class="card">
          <div class="card-header">
            <h3>💨 Active Breathing Sessions</h3>
            <p>Current client breathing exercises in progress</p>
          </div>
          <div class="card-body">
            <div style="display: flex; flex-direction: column; gap: var(--spacing-4);">
              <div style="display: flex; align-items: center; gap: var(--spacing-3); padding: var(--spacing-4); background: var(--background-primary); border-radius: var(--radius-lg); border-left: 4px solid #3b82f6;">
                <div style="width: 50px; height: 50px; background: #3b82f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">👤</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; margin-bottom: var(--spacing-1);">Sarah M. - 4-7-8 Breathing</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--spacing-2);">Session 3/8 • 12 minutes remaining</div>
                  <div style="display: flex; gap: var(--spacing-2);">
                    <span style="background: #dcfce7; color: #166534; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">In Progress</span>
                    <span style="background: #dbeafe; color: #1e40af; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Anxiety Relief</span>
                  </div>
                </div>
                <button class="btn btn-primary" onclick="joinBreathingSession('sarah')">Join Session</button>
              </div>

              <div style="display: flex; align-items: center; gap: var(--spacing-3); padding: var(--spacing-4); background: var(--background-primary); border-radius: var(--radius-lg); border-left: 4px solid #10b981;">
                <div style="width: 50px; height: 50px; background: #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">👥</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; margin-bottom: var(--spacing-1);">Group Breathing - Stress Relief</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--spacing-2);">8 participants • 20 minutes remaining</div>
                  <div style="display: flex; gap: var(--spacing-2);">
                    <span style="background: #dcfce7; color: #166534; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">In Progress</span>
                    <span style="background: #fef3c7; color: #92400e; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Group</span>
                  </div>
                </div>
                <button class="btn btn-primary" onclick="joinBreathingSession('group')">Join Session</button>
              </div>

              <div style="display: flex; align-items: center; gap: var(--spacing-3); padding: var(--spacing-4); background: var(--background-primary); border-radius: var(--radius-lg); border-left: 4px solid #f59e0b;">
                <div style="width: 50px; height: 50px; background: #f59e0b; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">👤</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; margin-bottom: var(--spacing-1);">Emma L. - Crisis Breathing</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--spacing-2);">Emergency session • 5 minutes remaining</div>
                  <div style="display: flex; gap: var(--spacing-2);">
                    <span style="background: #fecaca; color: #991b1b; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Urgent</span>
                    <span style="background: #fce7f3; color: #be185d; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Crisis</span>
                  </div>
                </div>
                <button class="btn btn-accent" onclick="joinBreathingSession('emma')">Join Urgently</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Breathing Session Templates -->
        <div class="card">
          <div class="card-header">
            <h3>📋 Session Templates</h3>
            <p>Pre-designed breathing exercises for different therapeutic needs</p>
          </div>
          <div class="card-body">
            <div style="display: flex; flex-direction: column; gap: var(--spacing-4);">
              <div style="display: flex; align-items: center; gap: var(--spacing-3); padding: var(--spacing-4); background: var(--background-primary); border-radius: var(--radius-lg); border-left: 4px solid #3b82f6;">
                <div style="width: 50px; height: 50px; background: #3b82f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">📝</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; margin-bottom: var(--spacing-1);">4-7-8 Anxiety Protocol</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--spacing-2);">Inhale 4, hold 7, exhale 8 for anxiety relief</div>
                  <div style="display: flex; gap: var(--spacing-2);">
                    <span style="background: #dbeafe; color: #1e40af; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">15 min</span>
                    <span style="background: #dcfce7; color: #166534; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Individual</span>
                  </div>
                </div>
                <button class="btn btn-primary" onclick="useBreathingTemplate('478-anxiety')">Use Template</button>
              </div>

              <div style="display: flex; align-items: center; gap: var(--spacing-3); padding: var(--spacing-4); background: var(--background-primary); border-radius: var(--radius-lg); border-left: 4px solid #10b981;">
                <div style="width: 50px; height: 50px; background: #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">📝</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; margin-bottom: var(--spacing-1);">Box Breathing for Stress</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--spacing-2);">Equal counts for focus and stress relief</div>
                  <div style="display: flex; gap: var(--spacing-2);">
                    <span style="background: #dbeafe; color: #1e40af; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">10 min</span>
                    <span style="background: #fef3c7; color: #92400e; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Group</span>
                  </div>
                </div>
                <button class="btn btn-primary" onclick="useBreathingTemplate('box-stress')">Use Template</button>
              </div>

              <div style="display: flex; align-items: center; gap: var(--spacing-3); padding: var(--spacing-4); background: var(--background-primary); border-radius: var(--radius-lg); border-left: 4px solid #f59e0b;">
                <div style="width: 50px; height: 50px; background: #f59e0b; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-xl);">📝</div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; margin-bottom: var(--spacing-1);">Crisis Breathing Protocol</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-sm); margin-bottom: var(--spacing-2);">Immediate relief for panic attacks</div>
                  <div style="display: flex; gap: var(--spacing-2);">
                    <span style="background: #dbeafe; color: #1e40af; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">5 min</span>
                    <span style="background: #fecaca; color: #991b1b; padding: var(--spacing-1) var(--spacing-2); border-radius: var(--radius-sm); font-size: var(--font-size-xs);">Emergency</span>
                  </div>
                </div>
                <button class="btn btn-accent" onclick="useBreathingTemplate('crisis')">Use Template</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Interactive Breathing Tools -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <h2>Interactive Breathing Tools</h2>
        <p>Professional tools for guiding clients through breathing exercises</p>
      </div>
      
      <div class="grid grid-cols-2">
        <!-- Session Timer -->
        <div class="card">
          <div class="card-header">
            <h3>🕐 Session Timer</h3>
            <p>Professional timer for breathing sessions</p>
          </div>
          <div class="card-body">
            <div style="text-align: center;">
              <div id="breathingTimer" style="width: 200px; height: 200px; background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); border-radius: 50%; margin: 0 auto var(--spacing-6); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--font-size-4xl); font-weight: 700; transition: all 0.5s ease;">
                00:00
              </div>
              <div style="margin-bottom: var(--spacing-4);">
                <label style="display: block; margin-bottom: var(--spacing-2); font-weight: 600;">Session Duration (minutes)</label>
                <input type="range" min="5" max="60" value="15" id="durationSlider" style="width: 100%; margin-bottom: var(--spacing-2);">
                <div style="display: flex; justify-content: space-between; font-size: var(--font-size-sm); color: var(--text-secondary);">
                  <span>5 min</span>
                  <span id="selectedDuration">15 min</span>
                  <span>60 min</span>
                </div>
              </div>
              <div style="display: flex; gap: var(--spacing-4); justify-content: center;">
                <button class="btn btn-primary" id="startBreathing" onclick="startBreathingSession()">Start Session</button>
                <button class="btn btn-secondary" id="pauseBreathing" onclick="pauseBreathingSession()" disabled>Pause</button>
                <button class="btn btn-accent" id="stopBreathing" onclick="stopBreathingSession()" disabled>End Session</button>
              </div>
              <p id="breathingStatus" style="margin-top: var(--spacing-4); color: var(--text-secondary); font-size: var(--font-size-sm);">Ready to begin breathing session</p>
            </div>
          </div>
        </div>

        <!-- Client Progress Tracking -->
        <div class="card">
          <div class="card-header">
            <h3>📊 Client Progress</h3>
            <p>Track client breathing exercise progress and outcomes</p>
          </div>
          <div class="card-body">
            <div style="margin-bottom: var(--spacing-4);">
              <div style="font-size: var(--font-size-lg); font-weight: 600; margin-bottom: var(--spacing-3);">This Week's Statistics</div>
              <div class="grid grid-cols-2" style="gap: var(--spacing-3);">
                <div style="text-align: center; padding: var(--spacing-3); background: var(--background-secondary); border-radius: var(--radius-lg);">
                  <div style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--primary-color);">24</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Sessions Completed</div>
                </div>
                <div style="text-align: center; padding: var(--spacing-3); background: var(--background-secondary); border-radius: var(--radius-lg);">
                  <div style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--accent-color);">156</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Total Minutes</div>
                </div>
                <div style="text-align: center; padding: var(--spacing-3); background: var(--background-secondary); border-radius: var(--radius-lg);">
                  <div style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--secondary-color);">78%</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Stress Reduction</div>
                </div>
                <div style="text-align: center; padding: var(--spacing-3); background: var(--background-secondary); border-radius: var(--radius-lg);">
                  <div style="font-size: var(--font-size-2xl); font-weight: 700; color: #10b981;">4.6</div>
                  <div style="color: var(--text-secondary); font-size: var(--font-size-xs);">Client Rating</div>
                </div>
              </div>
            </div>
            
            <div style="margin-bottom: var(--spacing-4);">
              <div style="font-size: var(--font-size-sm); font-weight: 600; margin-bottom: var(--spacing-2);">Most Effective Techniques:</div>
              <div style="display: flex; flex-direction: column; gap: var(--spacing-2);">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-2); background: var(--background-secondary); border-radius: var(--radius-md);">
                  <span style="font-size: var(--font-size-sm);">4-7-8 Breathing</span>
                  <span style="font-weight: 600; color: var(--primary-color);">92% effective</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-2); background: var(--background-secondary); border-radius: var(--radius-md);">
                  <span style="font-size: var(--font-size-sm);">Box Breathing</span>
                  <span style="font-weight: 600; color: var(--accent-color);">87% effective</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-2); background: var(--background-secondary); border-radius: var(--radius-md);">
                  <span style="font-size: var(--font-size-sm);">Belly Breathing</span>
                  <span style="font-weight: 600; color: var(--secondary-color);">84% effective</span>
                </div>
              </div>
            </div>
            
            <button class="btn btn-primary w-full" onclick="viewDetailedProgress()">View Detailed Progress</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>AI Mental Health Tracker</h3>
          <p>Advanced BERT-powered sentiment analysis for intelligent mental wellness monitoring.</p>
        </div>
        <div class="footer-section">
          <h3>Quick Links</h3>
          <p><a href="therapist-dashboard.html">Dashboard</a></p>
          <p><a href="client-reports.html">Client Reports</a></p>
          <p><a href="content-moderation.html">Content Moderation</a></p>
          <p><a href="system-analytics.html">Analytics</a></p>
        </div>
        <div class="footer-section">
          <h3>AI Technology</h3>
          <p><a href="about.html">How It Works</a></p>
          <p><a href="contact.html">Contact</a></p>
          <p><a href="faq.html">FAQ</a></p>
        </div>
        <div class="footer-section">
          <h3>Connect</h3>
          <p>Follow us for AI and mental health insights</p>
          <div class="footer-links">
            <a href="#" aria-label="Twitter">Twitter</a>
            <a href="#" aria-label="LinkedIn">LinkedIn</a>
            <a href="#" aria-label="GitHub">GitHub</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 AI Mental Health Tracker. Powered by BERT & Machine Learning.</p>
      </div>
    </div>
  </footer>

  <script>
    // Therapist Breathing Tools Functionality
    let breathingInterval;
    let currentTime = 0;
    let isRunning = false;
    let isPaused = false;

    function joinBreathingSession(clientId) {
      console.log('Joining breathing session for:', clientId);
      alert(`Joining ${clientId}'s breathing session...`);
    }

    function useBreathingTemplate(templateType) {
      console.log('Using breathing template:', templateType);
      alert(`Loading ${templateType} breathing template...`);
    }

    function startBreathingSession() {
      const duration = document.getElementById('durationSlider').value;
      currentTime = duration * 60; // Convert to seconds
      isRunning = true;
      isPaused = false;
      
      document.getElementById('startBreathing').disabled = true;
      document.getElementById('pauseBreathing').disabled = false;
      document.getElementById('stopBreathing').disabled = false;
      document.getElementById('breathingStatus').textContent = 'Breathing session in progress...';
      
      breathingInterval = setInterval(updateBreathingTimer, 1000);
    }

    function pauseBreathingSession() {
      if (isPaused) {
        isPaused = false;
        breathingInterval = setInterval(updateBreathingTimer, 1000);
        document.getElementById('pauseBreathing').textContent = 'Pause';
        document.getElementById('breathingStatus').textContent = 'Session resumed...';
      } else {
        isPaused = true;
        clearInterval(breathingInterval);
        document.getElementById('pauseBreathing').textContent = 'Resume';
        document.getElementById('breathingStatus').textContent = 'Session paused...';
      }
    }

    function stopBreathingSession() {
      isRunning = false;
      isPaused = false;
      clearInterval(breathingInterval);
      currentTime = 0;
      
      document.getElementById('startBreathing').disabled = false;
      document.getElementById('pauseBreathing').disabled = true;
      document.getElementById('stopBreathing').disabled = true;
      document.getElementById('pauseBreathing').textContent = 'Pause';
      document.getElementById('breathingStatus').textContent = 'Session completed! Great work!';
      
      updateTimerDisplay();
    }

    function updateBreathingTimer() {
      if (currentTime > 0) {
        currentTime--;
        updateTimerDisplay();
      } else {
        stopBreathingSession();
      }
    }

    function updateTimerDisplay() {
      const minutes = Math.floor(currentTime / 60);
      const seconds = currentTime % 60;
      document.getElementById('breathingTimer').textContent = 
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    function viewDetailedProgress() {
      alert('Opening detailed progress analytics...');
    }

    // Duration slider update
    document.getElementById('durationSlider').addEventListener('input', function() {
      document.getElementById('selectedDuration').textContent = this.value + ' min';
    });
  </script>
</body>
</html>
